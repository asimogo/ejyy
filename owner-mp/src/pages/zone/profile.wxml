<view class="container">
    <view class="avatar-wrapper" bindtap="selectImage">
        <image class="avatar" src="{{avatarDisplayUrl}}" mode="scaleToFill" />
        <view class="txt">更换头像</view>
    </view>

    <cw-cell-group>
        <cw-field
            label="昵称"
            maxlength="{{ 12 }}"
            show-word-limit
            model:value="{{ nick_name }}"
            placeholder="请输入昵称"
        />
        <cw-field
            label="签名"
            type="textarea"
            maxlength="{{ 36 }}"
            show-word-limit
            autosize
            model:value="{{ signature }}"
            placeholder="请输入签名"
            border="{{ false }}"
        />
    </cw-cell-group>

    <cw-button custom-class="btn" block loading="{{submiting}}" type="info" bind:click="save">
        修改个人资料
    </cw-button>
    <cw-copyright />
    <cw-toast id="cw-toast" />

    <!-- 头像选择底部弹出 -->
    <view class="avatar-sheet__mask {{ avatarSheetIn ? 'in' : '' }}" wx:if="{{showAvatarSheet}}" catchtap="closeAvatarSheet"></view>
    <view class="avatar-sheet {{ avatarSheetIn ? 'in' : '' }}" wx:if="{{showAvatarSheet}}">
        <button class="avatar-sheet__item wechat" open-type="chooseAvatar" bind:chooseavatar="onChooseAvatar" disabled="{{uploadingAvatar}}">用微信头像</button>
        <view class="avatar-sheet__item" bindtap="chooseFromAlbum">从相册选择</view>
        <view class="avatar-sheet__item" bindtap="takePhoto">拍照</view>
        <view class="avatar-sheet__cancel" bindtap="closeAvatarSheet">取消</view>
    </view>
</view>
